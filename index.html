<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>1.2</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .slide {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: none;
    }

    img {
      width: 100%;
      height: auto;
    }

    video {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

  <!-- Картинка -->
  <img id="imageSlide" class="slide" src="image.png" alt="Логотип">

  <!-- Видео -->
  <video id="videoSlide" class="slide" muted playsinline></video>

  <!-- Предварительная загрузка видео -->
  <div style="display:none;">
    <video id="preloader" preload="auto" muted></video>
  </div>

  <script>
    const image = document.getElementById('imageSlide');
    const video = document.getElementById('videoSlide');
    const preloader = document.getElementById('preloader');

    const imageUrl = 'image.png';
    const videoUrl = 'video5289603205456496170.mp4';

    function showImage() {
      video.style.display = 'none';
      image.style.display = 'block';

      setTimeout(() => {
        image.style.display = 'none';
        video.src = videoUrl;
        video.play();
        video.style.display = 'block';
      }, 15000); // показываем картинку 15 секунд
    }

    video.addEventListener('ended', () => {
      video.style.display = 'none';
      showImage();
    });

    // Загружаем видео сразу при открытии страницы
    window.addEventListener('load', () => {
      preloader.src = videoUrl;
      preloader.load();
      preloader.play().catch(() => {
        // Игнорируем ошибки автовоспроизведения
      });

      // После первой загрузки начинаем цикл
      setTimeout(() => {
        showImage();
      }, 1000); // запуск после частичной буферизации
    });
  </script>

</body>
</html>
