<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞—Ä—Ç–∏–Ω–∫–∞ ‚Üí –í–∏–¥–µ–æ ‚Üí –¶–∏–∫–ª</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .slide {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: none;
    }

    img {
      width: 100%;
      height: auto;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>

  <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ -->
  <img id="imageSlide" class="slide" src="https://drive.google.com/uc?export=download&id=15mJngFje7yZ_2slkKwXd1WYCAP0mDwRG " alt="–õ–æ–≥–æ—Ç–∏–ø" />

  <!-- –í–∏–¥–µ–æ —Å Vimeo -->
  <div id="videoWrapper" class="slide" style="position:relative;padding-top:75%;">
    <iframe id="vimeoIframe"
            src=""
            allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
            style="position:absolute;top:0;left:0;width:100%;height:100%;"
            title="–í–∏–¥–µ–æ">
    </iframe>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API Vimeo Player -->
  <script src="https://player.vimeo.com/api/player.js "></script>

  <script>
    const image = document.getElementById('imageSlide');
    const videoWrapper = document.getElementById('videoWrapper');
    const iframe = document.getElementById('vimeoIframe');

    // üîÅ –ó–∞–º–µ–Ω–∏ VIDEO_ID –Ω–∞ —Å–≤–æ–π –∏–∑ Vimeo
    const vimeoVideoId = '1086279681';
    const vimeoUrl = `https://player.vimeo.com/video/ ${vimeoVideoId}?h=abcd123456&autoplay=1&loop=1&muted=1`;

    let player;

    function showImage() {
      videoWrapper.style.display = 'none';
      image.style.display = 'block';

      setTimeout(() => {
        image.style.display = 'none';
        iframe.src = vimeoUrl;
        videoWrapper.style.display = 'block';

        // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Vimeo.Player —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ iframe
        if (!player) {
          player = new Vimeo.Player(iframe);
        }

        // –ù–∞—á–∏–Ω–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        player.play();
      }, 15000); // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É 15 —Å–µ–∫—É–Ω–¥
    }

    // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–∏–¥–µ–æ
    if (window.Vimeo && window.Vimeo.Player) {
      iframe.addEventListener('load', () => {
        player = new Vimeo.Player(iframe);
        player.on('ended', () => {
          iframe.src = ''; // –æ—á–∏—â–∞–µ–º, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å
          videoWrapper.style.display = 'none';
          showImage();
        });
      });
    } else {
      window.addEventListener('load', () => {
        player = new Vimeo.Player(iframe);
        player.on('ended', () => {
          iframe.src = ''; // –æ—á–∏—â–∞–µ–º, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å
          videoWrapper.style.display = 'none';
          showImage();
        });
      });
    }

    // –°—Ç–∞—Ä—Ç—É–µ–º —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏
    showImage();
  </script>

</body>
</html>
